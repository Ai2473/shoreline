package com.caspian.client.impl.module.exploit;

import com.caspian.client.api.config.Config;
import com.caspian.client.api.config.setting.BooleanConfig;
import com.caspian.client.api.config.setting.NumberConfig;
import com.caspian.client.api.event.listener.EventListener;
import com.caspian.client.api.module.ModuleCategory;
import com.caspian.client.api.module.ToggleModule;
import com.caspian.client.impl.event.network.ReachEvent;
import com.caspian.client.impl.event.render.TargetEntityEvent;

/**
 *
 *
 * @author linus
 * @since 1.0
 */
public class ReachModule extends ToggleModule
{
    //
    Config<Float> reachConfig = new NumberConfig<>("Reach", "The extended " +
            "reach distance", 0.0f, 0.0f, 3.0f);
    Config<Boolean> noHitboxConfig = new BooleanConfig("NoHitbox",
            "Ignores hitboxes allowing player to interact through entities", false);

    /**
     *
     */
    public ReachModule()
    {
        super("Reach", "Extends player reach", ModuleCategory.EXPLOITS);
    }

    /**
     *
     * @return
     */
    @Override
    public String getMetaData()
    {
        return Float.toString(reachConfig.getValue());
    }

    /**
     *
     * @param event
     */
    @EventListener
    public void onReach(ReachEvent event)
    {
        event.cancel();
        event.setReach(reachConfig.getValue());
    }

    /**
     *
     * @param event
     */
    @EventListener
    public void onTargetEntity(TargetEntityEvent event)
    {
        event.setCanceled(noHitboxConfig.getValue());
    }
}
